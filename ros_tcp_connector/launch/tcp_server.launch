<launch>
    <rosparam file="$(find ros_tcp_endpoint)/config/params.yaml" command="load"/>
    
    <group ns="/S1">
        <param name="ROS_TCP_PORT" type="int" value="10000" />
	<param name="TCP_NODE_NAME" type="string" value="mavros" />
	<node name="server_endpoint" pkg="ros_tcp_endpoint" type="default_server_endpoint.py" args="--wait" output="screen" respawn="true" />
    </group>

    <group ns="/S2">
	<param name="ROS_TCP_PORT" type="int" value="10001" />
	<param name="TCP_NODE_NAME" type="string" value="mavros" />
	<node name="server_endpoint" pkg="ros_tcp_endpoint" type="default_server_endpoint.py" args="--wait" output="screen" respawn="true" />
    </group>

    <group ns="/S3">
	<param name="ROS_TCP_PORT" type="int" value="10002" />
	<param name="TCP_NODE_NAME" type="string" value="mavros" />
	<node name="server_endpoint" pkg="ros_tcp_endpoint" type="default_server_endpoint.py" args="--wait" output="screen" respawn="true" />
    </group>

    <group ns="/map">
	<param name="ROS_TCP_PORT" type="int" value="11000" />
	<param name="TCP_NODE_NAME" type="string" value="pcl" />
    	<node name="pcl_server" pkg="ros_tcp_endpoint" type="default_server_endpoint.py" args="--wait" output="screen" respawn="true" />
    </group>

    <!-- <node pkg="unityrender" type="CFS.x86_64" name="unityrender" /> -->

    <node name="rviz" pkg="rviz" type="rviz" output="log" args="-d $(find ros_tcp_endpoint)/config/pcl.rviz" />
</launch>
